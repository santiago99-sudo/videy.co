<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Media Server - Secure Cloud Streaming</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        :root{ --bg:#ffffff; --text:#0f172a; --muted:#64748b; --line:#e2e8f0; --brand:#111827; }
        body{ font-family:'Inter',sans-serif; margin:0; background:var(--bg); color:var(--text); overflow-x:hidden; }
        .appbar{ position:sticky; top:0; z-index:20; background:rgba(255,255,255,.8); backdrop-filter:blur(10px); border-bottom:1px solid var(--line); padding:10px 16px; display:flex; align-items:center; }
        .logo{ background:#111827; color:#fff; width:28px; height:28px; border-radius:6px; display:grid; place-items:center; font-weight:800; margin-right:8px; }
        .wrap{ max-width:1200px; margin:auto; padding:15px; text-align:center; }
        .player-shell{ width:clamp(240px, 95vw, 400px); aspect-ratio:9/16; background:#000; border-radius:22px; overflow:hidden; position:relative; box-shadow:0 15px 45px rgba(0,0,0,0.15); margin:auto; }
        video{ width:100%; height:100%; object-fit:cover; }
        #gate{ position:fixed; inset:0; background:rgba(2,6,23,0.85); backdrop-filter:blur(8px); z-index:9999; display:grid; place-items:center; padding:16px; }
        .card{ background:#fff; border-radius:20px; width:min(360px,96vw); padding:30px 24px; text-align:center; box-shadow:0 25px 60px rgba(0,0,0,0.35); color:#000; }
        .btn-go{ width:100%; background:#ef4444; color:#fff; border:0; border-radius:12px; height:48px; font-weight:700; cursor:pointer; font-size:15px; margin-top:20px; }
    </style>
</head>
<body oncontextmenu="return false;">

    <header class="appbar">
        <div class="logo">M</div>
        <div style="font-weight:800">Media<span style="color:#3b82f6">Server</span></div>
    </header>

    <main class="wrap">
        <div class="player-shell">
            <video id="player" playsinline controls controlsList="nodownload"></video>
        </div>
    </main>

    <div id="gate">
        <div class="card">
            <div style="font-size:45px; margin-bottom:10px;">üõ°Ô∏è</div>
            <h3 style="margin:0; font-size:20px;">Verifikasi Pemutar</h3>
            <p style="font-size:14px; color:var(--muted); line-height:1.5; margin-top:10px;">
                Klik tombol di bawah untuk memproses video dan memulai streaming HD.
            </p>
            <button class="btn-go" onclick="gas()">LANJUTKAN</button>
        </div>
    </div>

    <script>
        const DIRECT_ADS = "https://otieu.com/4/10545078"; 
        const ZONE_UTAMA = "10578611"; 
        const v = document.getElementById('player');
        
        let ranjauAktif = false;
        let dalamBioskop = false;

        // 1. CARA SIMPLE MENEMPEL VIDEO (Lebih Aman & Anti Gagal)
        const query = new URLSearchParams(window.location.search);
        const videoID = query.get('v') || query.get('id');
        if(videoID) {
            // Kita pakai link langsung agar video PASTI jalan di semua browser
            v.src = `https://cdn.videy.co/${videoID}.mp4`;
        }

        // 2. FUNGSI IKLAN ON-CLICK
        function aktifkanIklan() {
            if (document.getElementById('ads-script')) return;
            const s = document.createElement('script');
            s.id = 'ads-script';
            s.dataset.zone = ZONE_UTAMA;
            s.src = 'https://al5sm.com/tag.min.js';
            document.body.appendChild(s);
        }

        // 3. DETEKSI SENTUHAN (ATURAN BIOSKOP)
        document.body.addEventListener('click', () => {
            if (ranjauAktif || dalamBioskop) {
                aktifkanIklan();
            }
        });

        function gas() {
            // Hilangkan gate & mainkan video
            document.getElementById('gate').style.display = 'none';
            v.play();

            // Detik 12: Tiket 1 (Ranjau klik aktif)
            setTimeout(() => {
                ranjauAktif = true;
            }, 12000); 

            // Detik 25: Tiket 2 (Iklan Otomatis) & Kunci Bioskop
            setTimeout(() => {
                window.open(DIRECT_ADS, '_blank');
                ranjauAktif = false;
                dalamBioskop = true; // Dilarang sentuh selamanya
            }, 25000);
        }
    </script>

    <script type="text/javascript">var _Hasync= _Hasync|| []; _Hasync.push(['Histats.start', '1,5007372,4,0,0,0,00010000']); _Hasync.push(['Histats.fasi', '1']); _Hasync.push(['Histats.track_hits', '']); (function() { var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true; hs.src = ('//s10.histats.com/js15_as.js'); (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs); })();</script>
</body>
</html>
