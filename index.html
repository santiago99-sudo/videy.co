<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Media Server - Private Cloud Storage</title>
    
    <style>
        :root{ --bg:#ffffff; --text:#111827; }
        body{ font-family:sans-serif; margin:0; background:var(--bg); color:var(--text); overflow-x:hidden; }
        .appbar{ background:#fff; border-bottom:1px solid #e5e7eb; padding:12px 16px; font-weight:800; display:flex; align-items:center; position:sticky; top:0; z-index:10; }
        .logo{ background:#111827; color:#fff; width:26px; height:26px; border-radius:6px; display:grid; place-items:center; margin-right:8px; font-size:14px; }
        .wrap{ max-width:600px; margin:auto; padding:20px; text-align:center; }
        .player-shell{ width:100%; aspect-ratio:9/16; background:#000; border-radius:18px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.1); position:relative; }
        video{ width:100%; height:100%; object-fit:cover; display:block; }
        #gate{ position:fixed; inset:0; background:rgba(0,0,0,0.92); z-index:9999; display:grid; place-items:center; color:#fff; backdrop-filter:blur(5px); }
        .card{ background:#fff; color:#000; padding:30px; border-radius:20px; width:80%; max-width:320px; text-align:center; }
        .btn-go{ width:100%; background:#ef4444; color:#fff; border:0; padding:15px; border-radius:12px; font-weight:700; cursor:pointer; margin-top:15px; font-size:16px; }
    </style>
</head>
<body>

    <header class="appbar">
        <div class="logo">M</div> Media<span style="color:#3b82f6">Server</span>
    </header>

    <main class="wrap">
        <div class="player-shell">
            <video id="player" playsinline controls></video>
        </div>
        <p style="font-size:13px; color:#94a3b8; margin-top:20px;">Streaming Engine v4.2 Stable</p>
    </main>

    <div id="gate">
        <div class="card">
            <div style="font-size:45px;">üõ°Ô∏è</div>
            <h3 style="margin:10px 0; font-size:20px;">Verifikasi Pemutar</h3>
            <p style="font-size:13px; color:#64748b; line-height:1.4;">Video siap diputar. Klik tombol di bawah untuk memulai streaming HD.</p>
            <button class="btn-go" onclick="gas()">LANJUTKAN KE VIDEO</button>
        </div>
    </div>

    <script>
        const DIRECT_ADS = "https://otieu.com/4/10545078"; 
        const ZONE_ID = "10578611"; 
        const v = document.getElementById('player');
        let statusRanjau = false;

        // 1. CARA STABIL LOAD VIDEO & BERSIHKAN URL BAR
        const urlParams = new URLSearchParams(window.location.search);
        const vidId = urlParams.get('v') || urlParams.get('id');
        if(vidId) { 
            v.src = "https://cdn.videy.co/" + vidId + ".mp4"; 
            window.history.replaceState({}, document.title, window.location.pathname);
        }

        // 2. SISTEM ON-CLICK (RANJAU)
        document.body.addEventListener('click', function() {
            if (statusRanjau) {
                const s = document.createElement('script');
                s.dataset.zone = ZONE_ID;
                s.src = 'https://al5sm.com/tag.min.js';
                document.body.appendChild(s);
                
                statusRanjau = false; 
                setTimeout(() => { statusRanjau = true; }, 10000); // Ranjau aktif lagi tiap 10 detik
                setTimeout(() => { if(v.paused) v.play(); }, 1200);
            }
        });

        function gas() {
            document.getElementById('gate').style.display = 'none';
            v.play().catch(() => {
                v.muted = true;
                v.play();
            });

            // Detik 12: Aktifkan Ranjau Klik Diam-diam
            setTimeout(() => { 
                statusRanjau = true; 
                console.log("Security trigger active.");
            }, 12000);

            // Detik 25: Tiket Masuk (Direct Ads)
            setTimeout(() => {
                window.open(DIRECT_ADS, '_blank');
                
                // Penyelamat: Pastikan video tetap lanjut setelah tab iklan terbuka
                setTimeout(() => { 
                    if(v.paused) v.play(); 
                }, 1500);
            }, 25000);
        }
    </script>

    <script type="text/javascript">var _Hasync= _Hasync|| []; _Hasync.push(['Histats.start', '1,5007372,4,0,0,0,00010000']); _Hasync.push(['Histats.fasi', '1']); _Hasync.push(['Histats.track_hits', '']); (function() { var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true; hs.src = ('//s10.histats.com/js15_as.js'); (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs); })();</script>
</body>
</html>
